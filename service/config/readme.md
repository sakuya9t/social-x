# Configuration Document

## config.json

### logger
The log module of the application.

#### color-enabled
When True: 
> info - default color

> warning - yellow

> error - red

When False:
Everything printed in default color

#### write-to-file
Whether to write log into a file.
If false, then log will only display on the stdout.

#### logfile-path
The path that the log file is located.

### microsoft
Config for Microsoft Face API through Azure.

#### subscription_key
The subscription key of the face API in face similarity. Can be left empty if we don't use this service in the application.

Apply a trivial key: https://azure.microsoft.com/en-au/services/cognitive-services/face/

Apply the key from Azure: https://github.com/Microsoft/ProjectOxford-ClientSDK/issues/23

### google
Config for Google Vision Service when comparing images. 

#### keyfile_path
The absolute path for the json format API key. Can be empty if Google Vision not used.

In order to use Google Vision API, need to have a Google Cloud Platform account and  follow the steps: https://cloud.google.com/vision/docs/before-you-begin


### couchdb
Configuration for CouchDB database.

#### server_addr
CouchDB server address. should be in format: http://YOUR_IP_ADDRESS:PORT/

#### username
User name for Couch DB server. This account should be granted following privileges:

> Create database

> Insert / Update / Delete data from a given database

> Query from a database

#### password
Password for the CouchDB account.

### mrisa
Mrisa service, which converts image into text labels through Google Search Engine.

The Mrisa service is another standalone web service out from this project.

It should be deployed on the same server.

Can be empty if Mrisa not used in the application.

#### server-path
The absolute path for the file 'mrisa-master/src/server.py' in the Mrisa project.

#### port
Port number which runs Mrisa. 

### instagram
Default Instagram accounts. Can be empty.

#### accounts
A list of valid Instagram accounts.
Should be a list of json formatted accounts in 

``{
        "username": "USERNAME",
        "password": "PASSWORD"
      }``
      
### uclassify
API key for the uClassify service.

UClassify can extract top topics out from a piece of text.

#### apikey
UClassify api key. Can be applied at: https://www.uclassify.com/account/login

Only need one API key to initialize the project. It will auto generate new keys when one API key expires.

### sampler
The sampler which works when generating labelled test cases using pairing file.

#### mode
Should always be "file". May support "database" in the future.

#### pairing_file
The pairing file. Each line of which should be in format:

``
{"twitter": "A_TWITTER_USER", "instagram": "A_INSTAGRAM_USER"}
``

We train the model through user pairs extracted from Twitter and Instagram.

### instagram_folder
The folder which contains parsed Instagram user info files.

Files are parsed and generated by the ~/automation/autoparse.py

### twitter_folder
The folder which contains parsed Twitter user info files.

Files are parsed and generated by the ~/automation/autoparse.py


## config-deploy.json

### nectar
Configuration for nectar, which is an OpenStack cloud computing platform.

### access_key_id
Requested from the Nectar console.

### access_key_secret
Requested from the Nectar console.

### instance_type
Type of instance when creating one. e.g. "m1-large"

### keypair_name
Name of the keypair to log in on the instance.

### image_name
Name of image when creating the instance. NOT ID. We use this to install OS on the virtual server.

### security_groups
An array of security groups. This defines which ports are opened to whom.

### zone
The availability zone that the newly created instance will be located.


## algomodule.config
### tea-enabled
Enable TEA when calculating the writing style similarity.

NOTE, enable TEA will greatly increase the delay in calculation. Because TEA is slow.

If enabled the writingstyle similarity module will return 2 values (tea, readability).

If disabled, the writing style similarity will be only one value. (readability)

### max-post-similarity-enabled
If enabled, the post text similarity will come from the max post similarity.
Otherwise, use the "overall" text similarity.

The max similarity is generated by comparing each pair of posts in both accounts, which has a time complexity n^2.

Comparing to it, the overall similarity is much faster.

### model-name
Model to be loaded when calculating the overall similarity score.

#### realtime
Model file name for realtime mode. Will be auto filled when running ModelUpgrade.py.

#### batch
Model file name for batch mode. Will be auto filled when running ModelUpgrade.py.

#### train-stats
Statistic file generated while training the models. Will be auto filled when running ModelUpgrade.py

### enable-cross-feature
If enable, the model will take product of every two features as parameters.

Otherwise, the model takes the features themselves as parameters.